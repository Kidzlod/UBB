--// UI Menu với Tab (Main / Setting + Rainbow Border + Rainbow Title)
--// Made by DHL - UBB

local player = game.Players.LocalPlayer
local gui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
gui.ResetOnSpawn = false

-- Nút ON/OFF
local toggleBtn = Instance.new("TextButton", gui)
toggleBtn.Size = UDim2.new(0, 60, 0, 30)
toggleBtn.Position = UDim2.new(0, 20, 0.5, -15)
toggleBtn.Text = "Menu"
toggleBtn.Font = Enum.Font.SourceSansBold
toggleBtn.TextSize = 16
toggleBtn.TextColor3 = Color3.fromRGB(255,255,255)
toggleBtn.BackgroundColor3 = Color3.fromRGB(40,40,40)
toggleBtn.Active = true
toggleBtn.Draggable = true
local toggleCorner = Instance.new("UICorner", toggleBtn)
toggleCorner.CornerRadius = UDim.new(0,10)

-- Main Frame
local main = Instance.new("Frame", gui)
main.Size = UDim2.new(0, 230, 0, 320)
main.Position = UDim2.new(0.3, 0, 0.2, 0)
main.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
main.Active = true
main.Draggable = true
main.BorderSizePixel = 0
main.Visible = false

local corner = Instance.new("UICorner", main)
corner.CornerRadius = UDim.new(0, 12)

-- Rainbow Border
local border = Instance.new("UIStroke", main)
border.Thickness = 3
border.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

-- Title
local title = Instance.new("TextLabel", main)
title.Size = UDim2.new(1, 0, 0, 35)
title.BackgroundTransparency = 1
title.Text = "DHL - UBB"
title.Font = Enum.Font.SourceSansBold
title.TextSize = 20
title.TextColor3 = Color3.fromRGB(255,255,255)

-- Rainbow Loop (Border + Title)
task.spawn(function()
    local t = 0
    while task.wait(0.05) do
        t = t + 1
        local r = math.sin(t/20)*127+128
        local g = math.sin(t/20+2)*127+128
        local b = math.sin(t/20+4)*127+128
        local color = Color3.fromRGB(r, g, b)
        border.Color = color
        title.TextColor3 = color
    end
end)

-- Tab Bar
local tabBar = Instance.new("Frame", main)
tabBar.Size = UDim2.new(1, 0, 0, 30)
tabBar.Position = UDim2.new(0, 0, 0, 35)
tabBar.BackgroundTransparency = 1

local tabLayout = Instance.new("UIListLayout", tabBar)
tabLayout.FillDirection = Enum.FillDirection.Horizontal
tabLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
tabLayout.Padding = UDim.new(0, 5)

-- Hàm tạo Tab
local function createTab(name)
    local btn = Instance.new("TextButton", tabBar)
    btn.Size = UDim2.new(0.5, -10, 1, 0)
    btn.Text = name
    btn.Font = Enum.Font.SourceSansBold
    btn.TextSize = 16
    btn.TextColor3 = Color3.fromRGB(255,255,255)
    btn.BackgroundColor3 = Color3.fromRGB(40,40,40)
    local c = Instance.new("UICorner", btn)
    c.CornerRadius = UDim.new(0,8)
    return btn
end

-- Tabs
local mainTab = createTab("Main")
local settingTab = createTab("Setting")

-- Container nội dung
local content = Instance.new("Frame", main)
content.Size = UDim2.new(1, -10, 1, -75)
content.Position = UDim2.new(0, 5, 0, 70)
content.BackgroundTransparency = 1

-- Frames riêng
local mainFrame = Instance.new("Frame", content)
mainFrame.Size = UDim2.new(1,0,1,0)
mainFrame.BackgroundTransparency = 1

local mainLayout = Instance.new("UIListLayout", mainFrame)
mainLayout.Padding = UDim.new(0, 5)

local settingFrame = Instance.new("Frame", content)
settingFrame.Size = UDim2.new(1,0,1,0)
settingFrame.BackgroundTransparency = 1
settingFrame.Visible = false

local settingLayout = Instance.new("UIListLayout", settingFrame)
settingLayout.Padding = UDim.new(0, 5)

-- Hàm tạo Button
local function createButton(name)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1, -10, 0, 35)
    btn.Text = name
    btn.Font = Enum.Font.SourceSansBold
    btn.TextSize = 18
    btn.TextColor3 = Color3.fromRGB(255,255,255)
    btn.BackgroundColor3 = Color3.fromRGB(50,50,50)
    local c = Instance.new("UICorner", btn)
    c.CornerRadius = UDim.new(0,8)
    return btn
end

-- Nút trong Main
local allCharBtn = createButton("All Char")
allCharBtn.Parent = mainFrame

local hitboxBtn = createButton("Hitbox")
hitboxBtn.Parent = mainFrame

local espBtn = createButton("ESP")
espBtn.Parent = mainFrame

local deleteBtn = createButton("Delete Night/Rain")
deleteBtn.Parent = mainFrame

-- Setting option
local hitboxSizeBox = Instance.new("TextBox", settingFrame)
hitboxSizeBox.Size = UDim2.new(1, -10, 0, 35)
hitboxSizeBox.PlaceholderText = "Nhập Hitbox Size..."
hitboxSizeBox.Text = "100" -- mặc định là 100
hitboxSizeBox.Font = Enum.Font.SourceSans
hitboxSizeBox.TextSize = 18
hitboxSizeBox.TextColor3 = Color3.fromRGB(255,255,255)
hitboxSizeBox.BackgroundColor3 = Color3.fromRGB(60,60,60)
local c = Instance.new("UICorner", hitboxSizeBox)
c.CornerRadius = UDim.new(0,8)

local toggleHitbox = createButton("Bật/Tắt Hitbox")
toggleHitbox.Parent = settingFrame

-- Chuyển tab
mainTab.MouseButton1Click:Connect(function()
    mainFrame.Visible = true
    settingFrame.Visible = false
end)

settingTab.MouseButton1Click:Connect(function()
    mainFrame.Visible = false
    settingFrame.Visible = true
end)

-- ON/OFF Menu
toggleBtn.MouseButton1Click:Connect(function()
    main.Visible = not main.Visible
end)
